{% extends 'navbar.html' %}
{% block title %}
    Update Book
{% endblock title %}

{% block body %}
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: #f8f9fa;
    }
    .form-container {
      max-width: 800px;
      background: white;
      margin: 50px auto;
      padding: 40px;
      border-radius: 20px;
      box-shadow: 0 0 30px rgba(0, 0, 0, 0.1);
    }
    .form-title {
      font-size: 32px;
      font-weight: bold;
      color: #333;
      text-align: center;
      margin-bottom: 30px;
    }
  </style>

  <div class="form-container">
    <div class="form-title">✏️ Update Book</div>
    <form method="POST" enctype="multipart/form-data">
      {% csrf_token %}

      <div class="mb-3">
        <label for="title" class="form-label">Title</label>
        <input type="text" class="form-control" id="title" name="title" value="{{ book.title }}">
      </div>

      <div class="mb-3">
        <label for="author" class="form-label">Author</label>
        <input type="text" class="form-control" id="author" name="author" value="{{ book.author }}">
      </div>

      <div class="mb-3">
        <label for="image" class="form-label">Book Cover Image</label><br>
        {% if book.image %}
          <img src="{{ book.image.url }}" alt="Current Cover" height="100" class="rounded mb-2 d-block">
        {% endif %}
        <input class="form-control" type="file" id="image" name="image" accept="image/*">
        <small class="form-text text-muted">Recommended size: 300x400px</small>
      </div>

      <div class="mb-3">
        <label for="isbn_no" class="form-label">ISBN Number</label>
        <input type="text" class="form-control" id="isbn_no" name="isbn_no" value="{{ book.isbn_no }}">
      </div>

      <div class="mb-3">
        <label for="publish" class="form-label">Publisher</label>
        <input type="text" class="form-control" id="publish" name="publish" value="{{ book.publish }}">
      </div>

      <div class="mb-3">
        <label for="created_at" class="form-label">Created At</label>
        <input type="datetime-local" class="form-control" id="created_at" name="created_at" value="{{ book.created_at|date:'Y-m-d\\TH:i' }}">
      </div>

      <div class="mb-3">
        <label for="price" class="form-label">Price ($)</label>
        <input type="number" step="0.01" class="form-control" id="price" name="price" value="{{ book.price }}">
      </div>

      <div class="mb-3">
        <label for="category" class="form-label">Category</label>
        <input type="text" class="form-control" id="category" name="category" value="{{ book.category }}">
      </div>

      <div class="mb-3">
        <label for="is_available" class="form-label">Availability</label>
        <select class="form-select" id="is_available" name="is_available">
          <option value="True" {% if book.is_available %}selected{% endif %}>Available</option>
          <option value="False" {% if not book.is_available %}selected{% endif %}>Not Available</option>
        </select>
      </div>

      <div class="mb-3">
        <label for="description" class="form-label">Book Description</label>
        <textarea class="form-control" id="description" name="description" rows="3">{{ book.description }}</textarea>
      </div>

      <div class="d-grid gap-2">
        <button type="submit" class="btn btn-success btn-lg">✅ Update Book</button>
        <a href="{% url 'book_list' %}" class="btn btn-outline-secondary">Cancel</a>
      </div>

    </form>
  </div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

{% endblock body %}
